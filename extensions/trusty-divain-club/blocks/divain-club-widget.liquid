{% comment %}
Bloque principal del widget Divain Club (Theme App Extension).
- Renderiza un contenedor vacío.
- Pasa shop y settings al JS vía data-attributes.
{% endcomment %}

<div id="trusty-divain-club"
     data-shop="{{ shop.permanent_domain | escape }}"
     data-title-override="{{ block.settings.title_override | escape }}"
     data-show-how="{{ block.settings.show_how }}"
     data-show-earn="{{ block.settings.show_earn }}"
     data-show-redeem="{{ block.settings.show_redeem }}">
  <div class="trusty-dc-loading">Cargando Divain Club…</div>
  <noscript>Activa JavaScript para ver el contenido.</noscript>
</div>

<link href="{{ 'trusty-divain-club.css' | asset_url }}" rel="stylesheet">
<script src="{{ 'trusty-divain-club.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Trusty Divain Club",
  "target": "section",
  "settings": [
    { "type": "text", "id": "title_override", "label": "Título (opcional)", "default": "DIVAIN Club" },
    { "type": "checkbox", "id": "show_how", "label": "Mostrar 'Cómo funciona'", "default": true },
    { "type": "checkbox", "id": "show_earn", "label": "Mostrar 'Formas de ganar'", "default": true },
    { "type": "checkbox", "id": "show_redeem", "label": "Mostrar 'Formas de canjear'", "default": true }
  ]
}
{% endschema %}
